~[if#request.~(gpv.request)=fieldparam]~[if#admincheck.~[f.table_info;table=Teachers;*Id=~[x:userid];fn=value;dothisfor=ALL;field=group;fieldtype=INT]=9]~(JSFieldParam;[pref]~(gpv.prefname))[/if#admincheck][/if#request]~[if#request.~(gpv.request)=check]~[if#test.pref.~(gpv.prefname)=~(gpv.prefvalue)]1[else#test]0[/if#test][/if#request]~[if#request.~(gpv.request)=getpref]~(f.pref;fn=get;~[if#userparam.~(gpv.userid)#]userid=~(gpv.userid);[/if#userparam]~[if#yearparam.~(gpv.yearid)#]yearid=~(gpv.yearid);[/if#yearparam]~[if#schoolparam.~(gpv.schoolid)#]schoolID=~(gpv.schoolid);[/if#schoolparam]name=~(gpv.prefname))[/if#request]~[if#request.~(gpv.request)=setpref]~(f.pref;fn=put;~[if#userparam.~(gpv.userid)#]userid=~(gpv.userid);[/if#userparam]~[if#yearparam.~(gpv.yearid)#]yearid=~(gpv.yearid);[/if#yearparam]~[if#schoolparam.~(gpv.schoolid)#]schoolID=~(gpv.schoolid);[/if#schoolparam]name=~(gpv.prefname);value=~(gpv.prefvalue))[/if#request]